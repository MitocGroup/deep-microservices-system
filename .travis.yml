language: node_js
sudo: required
node_js:
  - '4.3'
  - '7.1'
cache:
  edge: true
  directories:
    - $(npm root -g)
    - node_modules
    - deep_modules
    - $(npm config get prefix)/bin
branches:
  only:
    - master
    - dev
    - stage
    - test
before_install:
  - cp bin/test/package.json .
after_success:
  - npm run coverage
after_script:
  - npm run remove-coverage
env:
  global:
    - MAJOR_VERSIONS=master
    - DEEP_NO_INTERACTION=1
    - E2E_TESTING=none
    - secure: 
        qUGOP2Y9/5kQ6MKd2qzJmvNnQHKeCFTV4sCRbNHm64VegYD1hi3Ju57Fru1Rhh9i8WBKZaS/CLTIKGv6vrYAhocH72MKjq8CPHBpNJlue8iD8m9zi1orFBb5OSO9rU/XABDatV2GbVor1hrv7hTZIultmu60EOOKtbqGGqMdrMWoFKXzGaVQvBea3sP7jCWioRJQ9hIKZ9INMwQLnRzsbA/W3IKcaNb1HYeRw21myDge3OeoneCvCC1f+WW4xf1g0W++dCVhVs08blT9J/MIDA4Abv6q5s4c7hDfnNhEX70Qhw5TcwX7Worntf5DnstteG9nBVrV+qT3+avp3dhJZsxocyuOsVgebdRmZsy84WCXLMqVZN5ryhCP/kShuo91OqZqIJqIwHpFXR1iLYpl7YpXP07OrE8BHzxI6MYhaMrWnSgOjenkSQj4GM7VZPv1qDWHPP15sJGokmashUJMV+PDUETOPUViTLGQxJ3nRYpGd+8L8jljoP7jLfuJPY/H6d2VwJNSZ2q6E2MlYXscChLCsW16XTlmWChtiHqXK4Mvr05x3jN8QFeDUSkuwKxgcPZ0cuXvnRmK0UFE4vpNm6PHAaJa9QmmFU/zeXlCzT6FpjoZy0jcSXBUeOPLRdfQQ1HTlK+z29IUKMLCS/FTu0Ks83d5Ga8tSPjg6XzOTVQ=
    - secure: 
        rPMaoO9v6gF0PufsixBej/rDtzifUOuXLab+Jr8a3TUuC3HmGwbk/JB8Gsi/tkKLkRcid8R958tEm8rEwPjwJr5iEZeMeeK6pOq9iCeK3pKQSvskA0JQG8kyc0EmdRv3FIjwNKCYwC0myrg8FvuOovFgRl1Blcm3WoyzD9e01A4axtVH+cVdc16XixHLPrdJalf4Efff/oeDKQ3+W8lz4ecgBA96iqxJT32rd39xL0K+P6sDpxwg0WcsjN047ocgzsptdISSJPC2P2+O737CgE4Yk0EM/lq4sDf257xGnE5rfwsyAQCJRvXExK1d2EFwh1dYr992R6CAm8yGwYCTx7p4ri9hoHpTfN0lplTej2Ls5BvuX/nL4kvg+5ilt7u11mx6ZXueibRT4RB9BXeH7eEnuHxzBy/W5p4zrGaHWDNV43GfvailstZ0GpAp6DQh6Qcugklte/peEEg+PKz2rBmIeEce7nhncBlaT//TDsBW5FQCeed/qcrgNjy6oJU7vR2iKHrHbTQs1jHbxYoGA6SUGe7gMQanHL4UjYqWL0tNKM0Vv/CRk7yTiP3HAZczCRQ2yIEQfPcbdG7t6RZqcu2XSrMtBtNOuvTTWCInJ1Fy+pg8SeVWlY5QuBDDwEMoRORHN/0on5xdlSr4T2xtDrInuFVVN4/LfzbdhVHPrbI=
    - secure: 
        qBsgvOPWSAUoCgZE6tNF2m1hPQheH3eB9DU6QcVqV5LlQRvZP70a3aTp3I/s+4YnsdIjtWr39872KKjmsVQH532ZPEtqSLYevwuGNWdIRT8l39jZ68+yNTF5T6K1lcHqOmecPK896aKlV9wUBN/XzdX4qmV0lKN5QVUtlWS7U55qMH9zitvNUsozUbDXd8HocTq83GSyz3k99w6kPaFOuAxrGI3lOzUeQSsHO+bquVIsGwdpLTkwOAX48MnctlJ5cTwld1gFA0lMzcWIDsd9Sd5Txgv127OznXWwRASCQtOAD/fCIcbJdqNunGHhPbN9OiOKTA5RZOWlneSWmGBn2B78JHaz7jc3RgqJDWwafQm8C4o3G5mXywU1bU02iHPvEM1UnH7irsjJvwN0Xm8WAY1+TgEw+4ly625Kqw4FFKUQaPBBC4vPeWoGE0unjuHfRaSmFwf8F8HYIU7h7fRBYQ7pDTFWDlUYMIIsexIuS7SqGsRGbkbFl/xobbkwdUSTTsApqtdQCkswvcswAZmQWTZpbrf3xjT7LtkGMTGqrYpqF2RChoOjCSasx07mxMwI8VB0WTQODSGS1o6xJtPdRe75V/Yx1T2R99t5yCgizboS3/ursxu/KNYuETabiHLGaLNcnSF9A5BjstTjav6hgwI78Ba7LmYQojpLj5aQ8QE=
    - secure: 
        1r4TA3SF/q+naafQD+pqgiio0hFGm9vEmP1gZY9c5tgfOz3Qx0fcFPnolJAx5lJ2ZEOfeqehgZozN0oI1plytKxuDu0tVJ8DHsAumnkdKa1TBRIa5feOEfRgpnqT7ps7LKCNXfs5r6TMKwVlgmpMmrYI+4UiGz33EEkG1/vjS4MSgF/DKDLM+xc7HF4sIMRyxXB0l4SIEwBCiREOjbwtVx8HTEy8mIpbUvnYLkJc/w9koUy7vQKWth/Jb5m+unbSimso91H73qwqPG3fu+j6Or8k13tGRBwpqFPBBQknEhLayogayslp2/OvlxCIa7L8T+G899FLHhfp9eDqRomLoE7zti45YYumHq3y5atG5yzXmpV/MROz26WeLm2lltLYYQjlr6PBZyh8o7zBd8V9wqjmrdh617wlwYLs2dYHx4Yf9AIMAZpcPO+XxMbYpiDq945QXYg0oN2Tpn5MBsUhnhhpWs3Us3s5ltqRleDV3beHBuMuNf3bV7koJIeV8UICYpqxMJ0mG0MdBjRTei2ZsxAE4jsuHb/GBVSfA1bzlFXjOn6Y7T9xFSZMOuGQ4+x1Dgbd+fw+G3M1IWWNZnuIF7al1wJZy/0B0FxvioAEEMMJMXN2SRO9GRlzipl1ux0aVYpT6wjIBvgYTXPanV11A73lBayvStdUHAYiFqTnvsI=
    - secure: 
        MSJdHeWeGk7qrr7TEwJtKhi87p8ijt6SwL/IRGjzejf/eQWsbzJ7v1SvORMi7AAkzw39u7EX77k2zBAfcqTxkCUDMOAvXuApGjswPsxoYhxaXs9nvQn+D2KTd3OUpRo9j5suQ5Q750Za1Ty/Oh+Gteb7ShkzB8L++PK3ztClx22zJbT97YBBSixaJnNiWvGJglGQymoMIN7kO8fFHIRWN0kNoZfHHYLtm5l98cuqFpcLkcAvK/MvEn7RQQZpFge2Z3X1gQOyG4CxpGAkM4FnQa0CORubn1AeK/WhnEw/8K16zoH54QLk2D7Bx3C42cpuFdl8x/AzUvFVZcIiJJyKhHh4JqATmo+GNcTyzMrdbIEmDBsqvLla/xozwg6ezP76EBykiGtDWfyOAZdMKgYDr/saKU6s80Ed0Z/JT6rm4QnrKoNH26LZduJ/W1f1UrF5+nX07mVuqYjaw8coK9oiuR2PD3xhu8cYR4ptFltFz0F7CrVczz9GUig2ulhPzLa2SFcEx1uirtOEuTveKGRKGcfnfc72RYi64me7PuhPUBm1EfCDdcciweLUTV9UsfRiIxS2OhLn5ThOlOS7lZOH4F8VXQzJDZ6CZ5uBPA43A14oKsX8s85Kt9K6s0L49kcKM1VCSC9TwdZ+dJ7/Pl3Sbs8syXThOd+Zq7rG+JyAlkQ=
    - secure: 
        UghSdO5Jqy0uX70H2NXqHMddqd5iFA12R4ObKxBr6S8R0gf8nTqcTBW0FCUT8wBwxXOyxJkLviMgl+2C/jXXvf2y9XD9F3aT7Rsq/+TtHwCCOpa8SaZSE+btwht2MrS8xgt8RZON0ITvAeuZ2cMcH97soz+Y9BwbQ6W3iboZ6QBSsQVo/1HcNlji+gmhxnAvCwrHezV8ZDSVZ2yAtWzcdFd9wEDKnztKqXwbhvirA3ZFE2Vw4CuYqjUPf5qePGgAFCR9R9u+IFQ9aJaLTCGpDuemOnTRKu5+kCAwa+8sPXD72nuiPySdRCG7JfP+3QBl/Aw/ayhuSqUDXpH/3BeCDZ8Vd/fcTSZEMlENpsvw/LQBr3HWfSSQRjdfWgIvzo7BLdTJ7dnST1cDCIYIXcje51E0dHg5QdLOpzrWqHi44JMKQmwK6LCAqCOFJMJ1xtmaW3JYJXGfsYr1g84Ogt0ONB6clSVBXDB5IyUSxqPqDBXh3qQpiar94V3Al1UGILRrufhj1azIeR7fB+td6H6O1nFrSFIjYw4UQHfnoQIhLG2L3MT9SiusEiApAWZanzyYxR94fgJl2UkGHdxO6WH2+BpxfLLMzEO9MfeuFx+f4jGHZglCcCRp3vpxFJRteJMpQlbZA8Ap4EVTfVVfIARyDmlFSP9E3RE8lRUGRFWGPiY=
    - secure: 
        PlSdyahabTK2OmDjDYPtiKFhzkSBiwG6XWxNz/In2dL6X6MIgzpm8XqBgRbMHtDjNxhL+RG+RKUjN+8sTG5nlkx4N8EjuKwocA6d/itI53LXpjqmZCxJMLpLkGxH8qC+2QFiIRQCevYV7r+kRmN9Pf6avtOwSmqez07JWnWBRho9bw3c2uZCI+Jgi3PU3WYe8LRTs6LfrNc4GIxf4YipY6WMRo8ZJ9ifAlzUBo5eOQHSyabxZWllEfTAYIqmjalMGPbI1A0Gxnup22HLwuuY8yYzP2jyYe8kMWAhB8tcxlRDSKq1dU7SCAmJ1UsmoE3LlAGsaB6cihEasIiIGBWgPWmOSQ17ILdh7Ii/dCrUB5WioJADuV30QB49Iawfuz6dx5RC5tuDRaKcVBwnOc1EqIOCahgqipgXy4Vlf+K21c9T6yisFPv/2InlIkYCx6jshkXN7zPKhF8JuGumg62nIfoMERHDX/DP0hTRsYK9gU86LsdcyorgF2GmbMeftY9dPIJ5LtcwNXsY4asxQkaNtfNYDhZFcvNIvAi+nxW5aFODKXdwIrkXKBOPWAiBs98mMY3FJyItYAte29fxpAIdgl7CNTwvg3RU1kFlJQ40X8ygHPERgd6vEAIL9ooOGAOrh79HVk9aNmqU5eVvKFmL+Vx0NNB4JXE4TzQbDCa5sLs=
    - secure: 
        mkXV5yKdfAoS4DP1E+DRp5H5rU6ncuPsV1Nk42MQTrVtwOCKNRKH057WEZrnuW6nSJNMu8MwaIdc3UaeWbkVFUPcqDgaVdksa7s1+0+vu9yDqoEvPHMaWD6t3Up+OUQwpFJvvCtwDm7LVszEihcws5tCV6nNB/qW182x/ZT+jS/JIbJABKYnq1k/dZfD4B+YmSG4lWZY0EH2VbASootEYeyvaZuvsV/PLMI+c0cOtMKFa2M9pzh0UlIzqGrBkLG+3mBBZ94gcyBSUoIkYf1NnhcAIGWwRGfx/26RHDrUkfYkHQdjmU+ldW+rheu2v+9mOUWqvQm4lycUJf+bcU6VGbAM3olElTSLYI9GD0VhvHP5eItdNVaq6zN71m5c7tDku0DgKMYWQM550j6xiOUQKUFuxjHkBwar+3o8ubYnUtzacWtN9mNByCIlP8P870enFsjGpbkAxMUFsV6Z3B4VQFa2MBnYMTTDQzwDPqA9DNJdJ6dDO0wB7GxdqOtKb16S/SK5yIZiGoynWoplcxjSky9LiokVLJaboCWCWLM42+VQd+Oam6qfj8Yq+N/9wALjfpQWyTvwOb6V4v9S54ZAjf2AVML0o8SI7wHsJZFTVHG0vGnZpmjRe6GpqT3tcm1bJGh+5jovbyhaot0ANSjOqMX0GS4GkGbFafg4gGtx390=
  matrix:
    - TEST_SUITE=backend
    - TEST_SUITE=frontend
notifications:
  slack:
    secure: 
      oatTaVfw4yZ0GuPLCjDF5gnQuW6BPOZt7ClkaQ95cb3hKOkU9efwLA0cuKXQTCI4/o5Ub10daNRByDqHY6AVhEXTR/slmsK9+k2KUYz9YJ4UfRhGGuUcGW4BKBLmxfqh9XTJx3YQoBg1FViUlNTNiUQ2u1OvHyS7i2EoepplJjeKemrwbFk1JwhQc+KweQ/Lb8Uk9ngQKTwQ25AZ5mHzvbksReK34lvkDiKJiE88R28DInvZdaJpg92V4wKMFFMKiw+Yqgv4rX5mm/FJ2L8ekt3qVUeIKuie46ipvbQOL7CjEP2/JV2x24RgKukZmJ0DBx0uhDdtlhNtYLY0IJKRZGkY75b1m5LHyLf1ETq3KLdt5COBob41zt6PA7fsaYJcFId2VONR+9RYXVilEDIdVwymUVETGAxSLf89z2dTo5Uz/cy5+/MuoizOVqfVwjRmSFuUSlipuVbhf9cp5arwQOaE9XO89IrGJfPVZ0oHutzvSRqdS+KBdAFw8nmK8ff40Zogdhu9QprzecBnxAiDlqiKWPF0afZ4UAt6DhhJ8q+9rHv85mW9Kik7/NRoiSESX63p9YRAqLpPWtComNKIYLtQ0wtJ/0Yn7XACBPfZKvNFLSzmzcnMG4eom+YELESvvoRqm3viX4oStnUT3i3f2BrUU5TVGdi0xz8J0BRBmMs=
